<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>iPlanningPoker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
@page {
    size: a4;
    margin: 30mm 20mm 40mm 25mm;
    
    @top-right {
        content: "Version 1.0";
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 1em;
        color: #aaa;
    }

    @bottom-left {
        content: "iPlanningPoker";
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 1em;
        color: #aaa;
        padding-left: 3.75em;
    }

    @bottom-right {
        content: counter(page);
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 1em;
        color: #aaa;
    }

    @footnotes {
        margin-bottom: -13mm;
    }
}

html { 
    color: #333;
    font-size: 1em;
    line-height: 1.6;
    font-family: "Helvetica Neue", Helvetica, sans-serif;
    text-rendering: optimizeLegibility; 
}

footer {
    clear: both;
}

a {
  color: #333;
  text-decoration: none;
}

h1,
h2,
h3,
h4,
p,
figure figcaption,
figure.inline {
    clear: both;
    font-weight: normal;
    padding-left: 60px;
}

ul {
    padding-left: 40px;
}

td ul {
     padding-left: 15px;
}

h1 {
    font-size: 3em;
}

h2 {
    font-size: 2em;
}

h3 {
    font-size: 1.5em;
}

h4 {
    font-size: 1.25em;
}

p {
    font-size: 1em;
}

pre.code,
p.code {
    padding-left: 40px;
}

pre.code code,
p.code code {
    font-size: 0.7em;
    display: block;
    border-left: 1px solid #126396;
    padding: 0.5em 0 0.5em 19px;
    background-color: #f6f6f6;
}

ul li {
    padding-bottom: 1em;
}

table {
    border-collapse: collapse;
}

table td,
table th {
    padding: 0.2em 0.4em;
    border: 1px solid #ddd;
    font-size: 0.75em;
    text-align: left;
}

figure {
    padding: 1.5em 0;
    margin: 0;
}

figure img {
    max-width: 100%;
}

figure table {
    margin-bottom: 1em;
}

figure figcaption {
    font-size: 0.75em;
}

figure.inline figcaption {
    padding-left: 0;
}

a[href^="http"]:after {
    content: attr(href);
    float: footnote;
    margin-left: 60px;
    counter-increment: footnote;
    font-size: 0.75em;
    footnote-style-position: inside;
}

a[href^="http"]:after::footnote-call {
    content: " [" counter(footnote) "]";
    font-size: 1.3em;
}

a[href^="http"]:after::footnote-marker {
    content: "[" counter(footnote) "] ";
}

div.chapter {
    counter-increment: chapter;
    counter-reset: footnote;
    margin-top: 3em;
}

div.chapter h2 {
    padding-left: 0;
}

div.chapter h2:before {
    content: counter(chapter);
    width: 1.5em;
    padding-right: 0.375em;
    display: inline-block;
    text-align: right;
}

div.chapter h3 {
    counter-increment: sub-chapter;
    padding-left: 0;
}

div.chapter h3:before {
    content: counter(chapter) "." counter(sub-chapter);
    width: 2em;
    padding-right: 0.5em;
    display: inline-block;
    text-align: right;
}

h3.break,
h4.break,
p.break,
figure.break,
div.chapter {
    page-break-before: always;
}

#front {
    page-break-after: always;
}

#front h1 {
    margin: 1em 0 0.5em 0;
}

#front .logo {
    display: none;
}

#front .screenshot {
    padding-top: 4em;
    padding-bottom: 0em;
    margin-left: -0.5em;
}

#front,
#second {
    margin-bottom: 3em;
}

#toc,
#toc ol,
#figures,
#sources {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

#sources {
    counter-reset: sources;
}

#sources li {
    padding-left: 60px;
    padding-bottom: 0.75em;
}

#sources li:before {
	content: "[" counter(sources) "] ";
	counter-increment: sources;
}

#toc > li {
    padding-bottom: 1em;
}

#toc a:after,
#figures a:after {
    content: " " leader(".") " " target-counter(attr(href), page);
}

#toc .chapter {
    display: inline-block;
    padding-left: 1em;
    padding-right: 0.75em;
    text-align: left;
    width: 2em;
}

#figure-aufwand table td:not(:first-child) {
    text-align: center;
}
    
#figure-aufwand table tr.total td {
    font-weight: bold;
}

@media screen {

    html {
        font-size: 0.8em;
    }

    body {
        margin: 3em 0 4em 0;
    }

    p {
        padding-right: 3em;
    }

    a {
        color: #1b60a7;
    }

    a[href^="http"]:after {
        display: none;
    }

    #front h1 {
        margin: 1em 0 0 0;
    }

    #front .logo {
        display: block;
        padding-bottom: 2em;
    }

    #front .screenshot {
        display: none;
    }

    #second,
    div.chapter {
        border-top: 1px solid #ddd;
    }

    pre.code code,
    p.code code {
        font-size: 0.9em;
    }
}

@media screen and (min-width: 40.5em) {

    html {
        font-size: 1em;
    }

    body {
        margin: 4em 3em 6em 3em;
    }

    #second,
    div.chapter {
        max-width: 40em;
    }

    #front {
        position: relative;
        top: -4em;
        left: -3em;
        width: 100%;
        padding: 4em 3em 2em 3em;
        margin-bottom: -4em;
    }

    #front h1 {
        margin: 1em 0 5.5em 0;
    }

    #front .logo {
        display: block;
        position: fixed;
        margin: 0;
        padding: 0;
        top: 4em;
        right: 4.5em;
        width: 50px;
        height: 50px;
        opacity: 0.1;
        -webkit-transition: opacity 0.5s linear;
        -moz-transition: opacity 0.5s linear;
    }

    #front:hover .logo {
        opacity: 1;
    }
}

</style>
<script>

function item(node, id, chapter, subChapter) {

    var li, a, spanChapter, spanTitle;

    node.setAttribute('id', id);

    li = document.createElement('li');

    a = document.createElement('a');
    a.setAttribute('href', '#' + id);

    chapter = '' + chapter;
    if (typeof subChapter != 'undefined') {
        chapter += '.' + subChapter;
    }

    spanChapter = document.createElement('span');
    spanChapter.setAttribute('class', 'chapter');
    spanChapter.appendChild(document.createTextNode(chapter));
    a.appendChild(spanChapter);

    spanTitle = document.createElement('span');
    spanTitle.setAttribute('class', 'title');
    spanTitle.appendChild(document.createTextNode(node.innerHTML));
    a.appendChild(spanTitle);

    li.appendChild(a);

    return li;
}

function toc() {

    var headers = document.getElementsByTagName('h2'),
        toc = document.getElementById('toc'),
        i, j, node, id, chapter, li, childs, ol;

    // skip first header (TOC)
    for (i = 1; i < headers.length; i++) {

        node = headers[i];
        id = 'chapter-' + i;
        li = item(node, id, i);

        childs = node.parentNode.getElementsByTagName("h3");
        ol = document.createElement('ol');

        for (j = 0; j < childs.length; j++) {

            node = childs[j];
            id = 'chapter-' + i + '-' + (j + 1);
            sli = item(node, id, i, j + 1);
            ol.appendChild(sli); 
        }

        li.appendChild(ol);
        toc.appendChild(li);
    }
}

function sources() {

    var sources = document.getElementsByTagName('a'),
        index = document.getElementById('sources'),
        i, source, li, href, text;

    for (i = 0; i < sources.length; i++) {

        source = sources[i];
        href = source.getAttribute('href');
        text = source.getAttribute('title');

        if (href.indexOf('http') != 0) {
            continue;
        }

        if (!text) {
            text = source.innerHTML;
        }

        li = document.createElement('li');
        li.appendChild(document.createTextNode(text + ': ' + href));
        index.appendChild(li); 
    }
}


function figures() {

    var captions = document.getElementsByTagName('figcaption'),
        figures = document.getElementById('figures'),
        i, caption, figure, li, a;

    for (i = 0; i < captions.length; i++) {

        caption = captions[i];
        figure = caption.parentNode;

        caption.innerHTML = 'Abb. ' + (i + 1) + ' ' + caption.innerHTML;

        li = document.createElement('li');

        a = document.createElement('a');
        a.setAttribute('href', '#' + figure.getAttribute('id'));

        a.appendChild(document.createTextNode(caption.textContent));

        li.appendChild(a);
        figures.appendChild(li); 
    }
}

function init() {
    sources();
    figures();
    toc();
}

</script>
</head>
<body onload="init();">

<div id="front">
<p>
ZHAW Zürcher Hochschule für Angewandte Wissenschaften<br/>
Bachelorstudium Informatik<br/>
Semesterarbeit<br/>
Dozent: Beat Seeliger<br/>
Herbstsemester 2013
</p>
<h1>iPlanningPoker</h1>
<p class="logo">
<img src="" width="50" height="50" />
</p>
<p class="screenshot">
<img src="images/logo_big.png" width="400" height="400" />
</p>
<p>
Cyril Gabathuler, <a href="mailto:cyril.gabathuler@icloud.com">cyril.gabathuler@icloud.com</a><br/>
14. November 2013
</p>
</div>

<div id="second">
<h2>Inhaltsverzeichnis</h2>
<ol id="toc"></ol>
</div>

<div class="chapter">
<h2>Zusammenfassung</h2>
<p>Das Ziel dieser Semesterarbeit war die Erstellung einer App für das iPhone und das iPad. Die App wurde entwickelt, um das Planning Poker digital und drahtlos stattfinden zu lassen.</p>

<p>Mehrere iPhones können sich drahtlos mit einem iPad verknüpfen. Die Teilnehmer können auf dem iPhone eine Karte mit Storypoints auswählen und diese an das iPad übermitteln. Haben sich alle Teilnehmer für einen Wert entschieden, werden diese auf dem iPad angezeigt. Danach kann eine neue Runde begonnen werden und die Teilnehmer können sich wieder für eine Karte entscheiden.</p>

<p>Planning Poker wird in der agilen Projektmethode Scrum verwendet, um Anforderungen in deren Komplexität zu schätzen. Die App wurde entwickelt, um bekannte Probleme zu vereinfachen. Dieses Ziel wurden erreicht.</p>

<p>Ein aufwendiger, aber auch spannender, Teil war die Umsetzung der Kommunikation zwischen den iPhones und dem iPad. Da diese drahtlos stattfindet, können verschiedenste Fehlerquellen auftauchen. Es wurde auch ein eigenes Kommunikationsprotokoll entwickelt, welches bereits einige Fehlerquellen auschliessen sollte.</p>

</div>

<div class="chapter">
<h2>Einleitung</h2>

<h3>Ausgangslage</h3>
<p>
Das Planning Poker ist ein Bestandteil der agilen Projektmethode Scrum. Viele Teams kennen die Probleme des Planning Pokers:
</p>
<ul>
    <li>Zu wenige Kartendecks sind vorhanden oder erst gar nicht auffindbar</li>
    <li>Das Timing beim Aufdecken der Karten stimmt nicht</li>
    <li>In einem grossen Raum kann es schwierig sein, die verschiedenen Werte der Karten von den Kollegen zu sehen.</li>
</ul>
<p>
Diese Punkte sollen mit der App angegangen werden, um ein flüssigeres Ablaufen des Prozesses zu fördern.
</p>

<h3>Ziele der Arbeit</h3>
<p>
Es soll eine universelle App entwickelt werden. Dies erlaubt es, die App sowohl auf dem iPhone wie auch auf dem iPad einzusetzen. Zur Unterstützung der Kommunikation zwischen den iPhones und dem iPad wird das Apple eigene Framework <a href="https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/GameKit_Guide/Introduction/Introduction.html">GameKit</a> eingesetzt. Das Framework GameKit wird verwendet, da es bereits eine grundlegende Funktion für die Verknüpfung von verschiedenen iOS Geräten bereitstellt.
</p>

<p>
Das vorrangige Ziel ist es, mit der App eine unkomplizierte Verbindung und Kommunikation zwischen mehreren mobile Geräten erfolgreich herzustellen.
</p>

<p>
Das iPad wird dabei als "Server" agieren und die Verbindung mit den iPhones aufbauen. Der User hat dann die Möglichkeit, auf dem iPhone eine Karte auszuwählen. Die Karte wird dann verdeckt auf dem iPad angezeigt. Sobald alle User eine Karte gewählt haben, werden die Karten auf dem iPad aufgedeckt und eine neue Runde kann beginnen.
</p>

<h3>Aufgabenstellung</h3>
<p>Folgende Aufgabenstellungen wurden definiert:</p>
<ul>
    <li>Definition der Anforderungen der zu entwickelnden iOS App</li>
    <li>Analyse der GameKit API</li>
    <li>Definition des Netzwerkverkehrs</li>
    <li>Umsetzung einer universellen iOS App</li>
</ul>
</div>

<div class="chapter">
    <h2>Projektmanagement</h2>
    
    <h3>Projektplanung</h3>
    <p>
    Der folgende Projektplan gibt einen Überblick über den Ablauf des Projekts
    und dessen wichtigsten Meilensteine.
    </p>

    <figure id="figure-gantt">
    <table>
        <colgroup>
            <col width="160" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
        </colgroup>
        <thead>
            <tr>
                <th>&#160;</th>
                <th colspan="2">April</th>
                <th colspan="4">Mai</th>
                <th colspan="4">Juni</th>
                <th colspan="4">Juli</th>
                <th colspan="4">September</th>
                <th colspan="2">Oktober</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Freigabe der Arbeit</td>
                <td colspan="4" style="border-left: 0;">◆ 19.04.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Kick-Off-Meeting</td>
                <td>&#160;</td>
                <td colspan="4" style="border-left: 0;">◆ 25.04.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Umsetzung</td>
                <td colspan="16" style="background-color: #e8f0f8;">&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Dokumentation</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="15" style="background-color: #e8f0f8;">&#160;</td>
            </tr>
            <tr>
                <td>Design-Review</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="4" style="border-left: 0;">◆ 26.06.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Abgabe der Arbeit</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="3" style="border-left: 0;">◆ 19.10.13</td>
            </tr>
        </tbody>
    </table>
    <figcaption>Projektplanung</figcaption>
    </figure>
    <h3 class="break">Angepasste Planung</h3>
    <p>
        Die Semesterarbeit wurde um einen Monat verlängert, da ich geschäftlich sehr viel zu tun hatte. Die Projektplannung wurde entsprechend angepasst.
    </p>
    <figure id="figure-gantt-angepasst">
    <table>
        <colgroup>
            <col width="160" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
            <col width="25" />
        </colgroup>
        <thead>
            <tr>
                <th>&#160;</th>
                <th colspan="2">April</th>
                <th colspan="4">Mai</th>
                <th colspan="4">Juni</th>
                <th colspan="4">Juli</th>
                <th colspan="4">September</th>
                <th colspan="4">Oktober</th>
                <th colspan="2">November</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Freigabe der Arbeit</td>
                <td colspan="4" style="border-left: 0;">◆ 19.04.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Kick-Off-Meeting</td>
                <td>&#160;</td>
                <td colspan="4" style="border-left: 0;">◆ 25.04.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Umsetzung</td>
                <td colspan="20" style="background-color: #e8f0f8;">&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Dokumentation</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="19" style="background-color: #e8f0f8;">&#160;</td>
            </tr>
            <tr>
                <td>Design-Review</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="4" style="border-left: 0;">◆ 26.06.13</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
            </tr>
            <tr>
                <td>Abgabe der Arbeit</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="2" style="border-left: 0;">◆ 19.11.13</td>
            </tr>
            <tr>
                <td>Abschlusspräsentation</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td>&#160;</td>
                <td colspan="2" style="border-left: 0;">◆ 04.12.13</td>
            </tr>
        </tbody>
    </table>
    <figcaption>Angepasste Projektplanung</figcaption>
    </figure>
    
    <h3 class="break">Aufwand</h3>

    <p>
    Laut <a href="https://ebs.zhaw.ch/files/ebs_files/Reglemente/Bachelor/Semesterarbeit/a_Reglement-Semesterarbeit_Studiengang-Informatik_V4.1.pdf">Reglement</a>
    sollte der Aufwand für die Fertigstellung der Semesterarbeit mindestens
    120 Stunden betragen. Entsprechend wurde die Planung darauf ausgelegt.
    </p>

    <figure id="figure-aufwand" class="inline">
        <table>
            <colgroup>
                <col width="200" />
                <col width="100" />
                <col width="100" />
            </colgroup>
            <thead>
                <tr>
                    <th>Beschreibung</th>
                    <th>Soll</th>
                    <th>Ist</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Projekt aufsetzen</td>
                    <td>3h</td>
                    <td>2.5h</td>
                </tr>
                <tr>
                    <td>Kick-Of-Meeting</td>
                    <td>1h</td>
                    <td>1h</td>
                </tr>
                <tr>
                    <td>Design-Review</td>
                    <td>3h</td>
                    <td>2h</td>
                </tr>
                <tr>
                    <td>Schlusspräsentation</td>
                    <td>2h</td>
                    <td>2h</td>
                </tr>
                <tr>
                    <td>Requirements Engineering iOS App</td>
                    <td>4h</td>
                    <td>3h</td>
                </tr>
                <tr>
                    <td>Bearbeitung GameKit API</td>
                    <td>4h</td>
                    <td>5h</td>
                </tr>
                <tr>
                    <td>Internetsuche nach GameKit</td>
                    <td>2h</td>
                    <td>2h</td>
                </tr>
                <tr>
                    <td>Definition Netzwerkverkehrs</td>
                    <td>2h</td>
                    <td>4h</td>
                </tr>
                <tr>
                    <td>Continuous Integration</td>
                    <td>3h</td>
                    <td>4h</td>
                </tr>
                <tr>
                    <td>Integration GameKit in App</td>
                    <td>2h</td>
                    <td>1.5h</td>
                </tr>
                <tr>
                    <td>Client/Server Kommunikation</td>
                    <td>22h</td>
                    <td>30h</td>
                </tr>
                <tr>
                    <td>Client GUI</td>
                    <td>11h</td>
                    <td>8h</td>
                </tr>
                <tr>
                    <td>Server GUI</td>
                    <td>11h</td>
                    <td>10h</td>
                </tr>
                <tr>
                    <td>Testing</td>
                    <td>10h</td>
                    <td>15h</td>
                </tr>
                <tr>
                    <td>Dokumentation</td>
                    <td>32h</td>
                    <td>40h</td>
                </tr>
                <tr>
                    <td>Reserve</td>
                    <td>8h</td>
                    <td>0h</td>
                </tr>
                <tr class="total">
                    <td>Total</td>
                    <td>120h</td>
                    <td>130h</td>
                </tr>
            </tbody>
        </table>
        <figcaption>Soll / Ist Vergleich Aufwand</figcaption>
    </figure>
    <p>Der Ist-Aufwand ist ein wenig höher als anfangs geplant. Die Aufwände für die Kommunikation zwischen den Clients und dem Server ist höher ausgefallen als geplant. Das Schreiben der Dokumentation hat ebenfalls mehr Zeit benötigt als vorgesehen.</p>

    <h3>Dokumentation</h3>

    <p>
    Die Dokumentation wurde ausschliesslich in HTML und CSS geschrieben. Das Inhalts- und das
    Abbildungsverzeichnis wurden dynamisch mit JavaScript generiert. Um die Seite
    auch korrekt ausdrucken zu können, wurde die Software
    <a href="http://www.princexml.com/">Prince</a> verwendet, welche HTML-Seiten
    in PDFs umwandelt. Dadurch konnte diese Dokumentation, gleich wie der Source-Code
    der Applikation, mit der Versionsverwaltungssoftware Git verwaltet und über
    den Online-Service <a href="https://github.com/">GitHub</a> geteilt werden.
    </p>
    
    <h3>Sourcecode</h3>
    
    <p>
    Der Sourcecode der iOS App ist ebenfalls mit der Versionsverwaltungssoftware
    Git verwaltet und kann über den Online-Service GitHub abgerufen werden.
    </p>
    
    <h3>Open Source</h3>
    <p>
        Ich habe mich, in Absprache mit Beat Seeliger, entschieden den Sourcecode wie auch die Dokumentation als Open Source
        zur Verfügung zu stellen. Als Lizenz wurde die <a href="https://raw.github.com/gabac/iPlanningPoker/master/LICENSE">MIT License</a> gewählt.
    </p>
    <p>
        Die GitHub Repositories sind unter diesen zwei Adressen zu finden:
    </p>
    <ul>
        <li>iOS App: <a href="https://github.com/gabac/iPlanningPoker">https://github.com/gabac/iPlanningPoker</a></li>
        <li>Dokumentation: <a href="https://github.com/gabac/iPlanningPoker-doc">https://github.com/gabac/iPlanningPoker-doc</a></li>
    </ul>
    
</div>

<div class="chapter">
<h2>Planning Poker</h2>

<p>Planning Poker ist ein Schätzverfahren, welches in der agilen Projektmethode Scrum zum Einsatz kommt.</p>

<p>Mit Hilfe von Planning Poker wird die Komplexität von User Stories (Requirements) geschätzt. Das Schätzen
    wird mit Hilfe von Spielkarten realisiert. Diese lehnen sich typischerweise an die Werte der Fibonacci Reihe:
    1, 2, 3, 5, 8, 13, 20, 40, 100. Optional gibt es noch Karten mit dem Wert 0, einem Fragezeichen (unsicher)
    und einer Kaffeetasse (Pause). Die Fibonacci Reihe wurde gewählt, um aufzuzeigen, dass komplexe User Stories schwieriger zu schätzen sind. Dies führt zu einer ungenaueren Schätzung.</p>

<p>Das Prinzip ist simpel. Jede User Story wird besprochen und offene Fragen werden untereinander geklärt.
    Sind keine weiteren Fragen mehr vorhanden, entscheidet sich jeder Entwickler, verdeckt, für eine
    Spielkarte. Haben sich alle Teilnehmer für eine Karte entschieden, werden diese gemeinsam aufgedeckt.
    Durch die verdeckte Karte wird der Einfluss von anderen Teilnehmer minimiert und es muss eine eigene
    Entscheidung gefällt werden.</p>
    
<figure id="figure-kartendeck" class="inline">
    <img src="images/CrispPlanningPokerDeck.jpg" width="300"/>
    <figcaption>Beispielhaftes <a href="http://en.wikipedia.org/wiki/File:CrispPlanningPokerDeck.jpg">Kartendeck</a></figcaption>
</figure>

</div>

<div class="chapter">
<h2>Anforderungen an die iOS App</h2>
<h3>Features</h3>
<p>
    Das UI der App soll minimalistisch gehalten werden. 
    Die wichtigsten Funktionalitäten der App sind der einfache Verbindungsaufbau zwischen den iPhones und dem iPad,
    das einfache Auswählen eines Kartenwertes und die Darstellung der gewählten Werte auf dem iPad.
</p>
<p>
    Es wurde ein Mockup erstellt, um die Vision klarer darzustellen.
</p>

<figure id="figure-mockup" class="inline">
<img src="images/endvision.png" width="350" />
<figcaption>Mockup</figcaption>
</figure>

<p class="break">
    Um es für den User einfach zu halten wird eine universelle App erstellt. Dies bedeutet, die App kann sowohl auf
    dem iPhone, wie auch auf dem iPad ausgeführt werden. Es wird dynamisch entschieden, welche Inhalte auf welchem
    Gerät angezeigt werden sollen.
</p>

<h3>User Interface</h3>

<p>
    Die Auswahl der Karten wird mittels dem Paradigma Coverflow dargestellt. Coverflow wird auf dem iPhone z.B.
    für die Albumauswahl innerhalb der Musik App verwendet. Der User wird die Möglichkeit haben, zwischen den
    verschiedenen Kartenwerten hin und her zu wischen. Hat er sich für einen Wert entschieden, kann er die Karte
    selektieren und der Wert wird zum iPad übertragen.
</p>

<p>
    Auf dem iPad ähnelt die Darstellung einem Tisch. Die verschiedenen angemeldeten User werden mit ihrem
    Namen angezeigt.
</p>
<h3 class="break">Use Cases</h3>

<p>
    Die App beinhaltet zwei wichtige Use Cases, welche im Diagramm abgebildet worden sind.
</p>
<figure id="use-cases" class="inline">
    <img src="images/use_cases.png" height="350"/>
    <figcaption>Use Cases</figcaption>
</figure>


<h3 class="break">Anforderungsübersicht</h3>
<p>Die Anforderungen wurden direkt aus den Use Cases abgleitet bzw. von den Befragungs-, Kreativitäts- und Beobachtungstechnik abgeleitet. Die Beobachtungstechnik wurde während diverser Planning Pokers eingesetzt, um direkt vor Ort die wichtigsten Anforderungen heraus zu filtern. Mittels der Kreativitätstechnik wurden vor allem Anforderung für ein möglichst innovatives UI erstellt.</p>

<h4>Vorlage</h4>
<p>Alle Anforderungen wurden anhand folgender Vorlage erstellt</p>
<figure id="figure-use-case-xx" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>RXX</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Name der Anforderung</td>
        </tr>
        <tr>
            <th>System</th>
            <td>Für welches System die Anforderung umgesetzt wird (iPad oder iPhone)</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>Prioritäten können niedrig, mittel oder hoch sein</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Eine kurze Zusammenfassung der Anforderung
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Auflistung allfälliger Vorbedingungen
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
               Die zu erfüllenden Akzeptanz Tests
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                Auflistung allfälliger Querbezüge
            </td>
        </tr>
    </tbody>
</table>
<figcaption>RXX: Name des Requirements</figcaption>
</figure>

<h4 class="break">Anforderungen</h4>

<figure id="figure-use-case-1" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R01</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Planning Poker starten</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>hoch</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Der Scrum Master startet ein neues Planning Poker auf seinem iPad
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Es muss mindestens ein iPhone eines Teilnehmers mit dem iPad verbunden sein. Siehe <a href="#figure-use-case-7">R07</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-1">AT01: Starten eines Planning Pokers</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R01: Planning Poker starten</figcaption>
</figure>
<figure id="figure-use-case-2" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R02</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Verfügbare iPhones anzeigen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Das iPad zeigt alle iPhones an, welche sich mit dem iPad verbunden haben
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Die iPhones müssen sich mit einem iPad verbinden. Siehe <a href="#figure-use-case-7">R07</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-2">AT02: Anzeige verbundenen iPhones</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R02: Verfügbare iPhones anzeigen</figcaption>
</figure>

<figure id="figure-use-case-3" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R03</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Karten anzeigen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Das iPad zeigt die gewählten Karten der Teilnehmer aufgedeckt an
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                <ul>
                    <li>Das iPhone muss die Karte dem iPad übermittelt haben und das iPad muss die Karten empfangen haben. Siehe <a href="#figure-use-case-8">R08</a> und <a href="#figure-use-case-4">R04</a></li>
                    <li>Alle Teilnehmer müssen eine Karte ausgewählt haben. Siehe <a href="#figure-use-case-10">R10</a></li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-5">AT05: Karten aufdecken</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                Beispielhaft im <a href="#figure-mockup">Mockup</a> zu sehen
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R03: Karten anzeigen</figcaption>
</figure>

<figure id="figure-use-case-4" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R04</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Karten empfangen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Dem iPad werden drahtlos die Karten der verschiedenen Teilnehmer zugestellt
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
               Es muss mindestens ein iPhone eines Teilnehmers mit dem iPad verbunden sein. Siehe <a href="#figure-use-case-7">R07</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-4">AT04: Auswählen einer Karte</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R04: Karten empfangen</figcaption>
</figure>

<figure id="figure-use-case-5" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R05</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Karte schicken</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Die ausgewählte Karte des Teilnehmers wird drahtlos zu dem verbundenen iPad übertragen
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                <ul>
                    <li>Das iPhone muss mit einem iPad verbunden sein. Siehe <a href="#figure-use-case-7">R07</a></li>
                    <li>Der Teilnehmer muss eine Karte ausgewählt haben. Siehe <a href="#figure-use-case-8">R08</a></li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-4">AT04: Auswählen einer Karte</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R05: Karte schicken</figcaption>
</figure>

<figure id="figure-use-case-6" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R06</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Verfügbares iPad anzeigen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Das verfügbare iPad wird mit seinem Name dargestellt
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Das iPad muss sich im Verbindungsmodus befinden
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-1">AT01: Starten eines Planning Pokers</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R06: Verfügbare iPads anzeigen</figcaption>
</figure>

<figure id="figure-use-case-7" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R07</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>iPad auswählen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>Teilnehmer</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Aus einer Liste aller verfügbaren iPads muss ein iPad ausgewählt werden, mit welchem sich das iPhone verbinden sollte
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Es muss nach verfügbaren iPads gesucht worden sein. Siehe <a href="#figure-use-case-6">R06</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-1">AT01: Starten eines Planning Pokers</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R07: iPad auswählen</figcaption>
</figure>

<figure id="figure-use-case-8" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R08</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Karte auswählen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>Teilnehmer</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Es muss <strong>eine</strong> Karte aus einer Liste ausgewählt werden. Die Karten haben die Werte 0, 0.5, 1, 2, 3, 5, 8, 13, 20, 40, 100, ? und ein Bild einer Kaffeetasse
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Das iPhone muss mit einem iPad verbunden sein. Siehe <a href="#figure-use-case-7">R07</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-4">AT04: Auswählen einer Karte</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                Im Kapitel <a href="#chapter-4">Planning Poker</a> wird Bezug auf die <a href="#figure-kartendeck">Werte</a> der Karten genommen
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R08: Karte auswählen</figcaption>
</figure>

<figure id="figure-use-case-9" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R09</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Verdecktes Wählen</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
               Dem Teilnehmer soll es möglich sein, seine Karte so verdeckt wie möglich zu wählen. Sollten andere Teilnehmer den gewählten Wert sehen, könnten diese unnötig beeinflusst werden
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-3">AT03: Erfolgreiche Verbindung</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R09: Verdecktes Wählen</figcaption>
</figure>

<figure id="figure-use-case-10" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R10</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Aufdecken der Karten</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
                Die Karten dürfen auf dem iPad erst aufgedeckt werden, sobald alle Teilnehmer sich für einen Wert entschieden haben
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-4">AT04: Auswählen einer Karte</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R10: Aufdecken der Karten</figcaption>
</figure>

<figure id="figure-use-case-11" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R11</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Drahtlose Verbindung</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad & iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
                Die Verbindung zwischen den verschiedenen Geräten ist drahtlos. Die Technologie (Bluetooth oder WLAN) spielt dabei keine Rolle
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-3">AT03: Erfolgreiche Verbindung</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R11: Drahtlose Verbindung</figcaption>
</figure>

<figure id="figure-use-case-12" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R12</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Schnelle und einfache Verbindung</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPad & iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>mittel</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
              Der Verbindungsaufbau zwischen dem iPad und dem iPhone soll einfach und schnell vonstatten gehen. Der Teilnehmer sollte möglichst keine Eingaben tätigen müssen
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                Die Verbindung muss drahtlos hergestellt werden. Siehe <a href="#figure-use-case-11">R11</a>
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                <a href="#figure-acceptance-test-3">AT03: Erfolgreiche Verbindung</a>
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                -
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R12: Schnelle und einfache Verbindung</figcaption>
</figure>

<figure id="figure-use-case-13" class="inline break">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R13</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Coverflow UI</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>tief</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
              Die Karten sollen auf dem iPhone UI mittels dem Paradigma Coverflow dargestellt werden
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                Siehe <a href="#figure-mockup">Mockup</a>
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R13: Fächer UI</figcaption>
</figure>

<figure id="figure-use-case-14" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>R14</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Pokertisch UI</td>
        </tr>
        <tr>
            <th>System</th>
            <td>iPhone</td>
        </tr>
        <tr>
            <th>Priorität</th>
            <td>tief</td>
        </tr>
        <tr>
            <th>Beschreibung</th>
            <td>
              Die Teilnhemer, wie auch deren Karten, sollen auf dem iPad mittels einem Pokertisch dargestellt werden
            </td>
        </tr>
        <tr>
            <th>Vorbedingungen</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Akzeptanz Tests</th>
            <td>
                -
            </td>
        </tr>
        <tr>
            <th>Querbezug</th>
            <td>
                Siehe <a href="#figure-mockup">Mockup</a>
            </td>
        </tr>
    </tbody>
</table>
<figcaption>R13: Pokertisch UI</figcaption>
</figure>

</div>

<div class="chapter">
<h2>Architektur</h2>

<h3>Systemumfeld (System- und Kontextabgrenzung)</h3>
<p>
    Das System besteht aus einer iOS App, welche sowohl auf einem iPhone wie auch auf einem iPad installiert werden kann. Je nach Kontext erfüllt die App andere Aufgaben bzw. wird von einer anderen Zielperson verwendet. Die iPhones und das iPad kommunizieren drahtlos miteinander
</p>
<figure id="figure-systemabgrenzung" class="inline">
    <img src="images/systemabgrenzung.png" />
    <figcaption>System- und Kontextabgrenzung</figcaption>
</figure>

<h3 class="break">Prozesse Systemkontext "Verbindungsaufbau"</h3>
<ol>
    <li>Der Scrum Master startet die App auf dem iPad und versetzt das iPad in den "Verbindungsmodus"</li>
    <li>Das iPad sucht nach iPhones, welche sich mit einem iPad verbinden möchten</li>
    <li>Der Teilnehmer startet die App auf dem iPhone und sucht nach einem iPad. Sobald ein iPad gefunden worden ist, verbindet sich das iPhone automatisch mit dem iPad</li>
    <li>Das iPad zeigt alle verbundenen iPhones an</li>
    <li>Der Scrum Master startet das Planning Poker</li>
</ol>

<h3>Prozesse Systemkontext "Karte wählen"</h3>
<ol>
    <li>Die Teilnehmer wählen eine Karte auf dem iPhone aus</li>
    <li>Die iPhones senden den Kartenwert an das iPad</li>
    <li>Sobald alle Teilnehmer eine Karte gewählt haben, zeigt das iPad den gewählten Kartenwert der Teilnehmer einzeln an</li>
</ol>

<h3 class="break">Aufbau</h3>
<p>Die Applikation wird in verschiedene Teile gegliedert. Die Gruppe ViewControllers sorgt für die Darstellung der Daten innerhalb eines UIs auf dem iPad, wie auch auf dem iPhone. Die Gruppe Connection sorgt sich um die Verbindung zwischen einem iPad und verschiedenen iPhones. In der Gruppe DataModel werden die Daten beschrieben, welche zwischen dem iPad und den iPhones ausgetauscht werden.</p>

<figure id="figure-Klassendiagramm" class="inline">
    <img src="images/klassendiagramm.png" height="500"/>
    <figcaption>Klassendiagramm</figcaption>
</figure>

</div>


<div class="chapter">
<h2>Testing</h2>

<h3>Akzeptanz Testing</h3>
<p>
    Die Akzeptanz Tests werden anhand der Requirements definiert und haben daher eine direkte Verbindung zu den Requirements.
</p>

<h4>Vorlage</h4>
<p>Alle Akzeptanz Tests wurden anhand folgender Vorlage erstellt.</p>
<figure id="figure-acceptance-test-xx" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>ATXX</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Name des Tests</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>Erfüllt oder nicht erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td>Anforderungen, welche durche diese Akzeptanz Tests geprüft werden</td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Aktivität, welche ausgeführt werden soll</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>Erwartetes Verhalten</td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
              Eingetroffenes Verhalten
            </td>
        </tr>
    </tbody>
</table>
<figcaption>ATXX: Name des Tests</figcaption>
</figure>

<h4 class="break">Akzeptanz Tests</h4>
<figure id="figure-acceptance-test-1" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>AT01</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Starten eines Planning Pokers</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>✓ Erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td><a href="#figure-use-case-1">R01</a>, <a href="#figure-use-case-6">R06</a>, <a href="#figure-use-case-1">R07</a></td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Der Scrum Master startet auf einem iPad die App. Innerhalb der App startet er eine neue Planning Session</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>
                <ul>
                    <li>Die App soll ohne Probleme aufstarten</li>
                    <li>Es muss möglich sein, eine neue Planning Session zu starten</li>
                    <li>Das iPad befindet sich im Verbindungsmodus und erscheint auf den anderen iPhones</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
                Die App startet ohne Probleme auf. Nachdem ein neues Planning Poker begonnen worden ist, erscheint der Name des iPads auf den iPhones
            </td>
        </tr>
    </tbody>
</table>
<figcaption>AT01: Starten einer Planning Session</figcaption>
</figure>

<figure id="figure-acceptance-test-2" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>AT02</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Anzeige verbundener iPhones</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>✓ Erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td><a href="#figure-use-case-2">R02</a></td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Teilnehmer starten die App auf dem iPhone. Danach sollen sie sich mit dem iPhone auf das iPad verbinden</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>
                <ul>
                    <li>Die App soll ohne Probleme aufstarten</li>
                    <li>Es muss möglich sein, eine neue Planning Session zu starten</li>
                    <li>Das iPhone kann sich mit einem iPad verbinden</li>
                    <li>Sobald ein iPhone mit dem iPad verbunden ist, erscheint es in einer Listenübersicht auf dem iPad</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
                Der Teilnehemer startet die App auf dem iPhone. Das iPhone sucht nach einem iPad und findet dieses. Das iPhone verbindet sich mit dem iPad und der Name des iPhones erscheint in der Liste auf dem iPad
            </td>
        </tr>
    </tbody>
</table>
<figcaption>AT02: Anzeige verbundenen iPhones</figcaption>
</figure>

<figure id="figure-acceptance-test-3" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>AT03</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Erfolgreiche Verbindung</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>✓ Erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td><a href="#figure-use-case-9">R09</a>, <a href="#figure-use-case-11">R11</a>, <a href="#figure-use-case-12">R12</a></td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Sobald alle zu verknüpfenden iPhones in der Listendarstellung des iPads erschienen sind, wird eine neue Session gestartet</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>
                <ul>
                    <li>Die Session wird initiiert</li>
                    <li>Auf dem iPhone wird ein UI zur Auswahl der Storypoints angezeigt</li>
                    <li>Auf dem iPad erscheint ein UI, welches die Möglichkeit bietet, die Storypoints der verschiedenen Teilnehmer anzuzeigen</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
                Sobald sich alle iPhones verbunden haben, startet der Scrum Master eine Runde Planning Poker. Auf dem iPad erscheint ein UI, das einem Tisch ähnelt. Die Teilnehmer erhalten ein UI zur Auswahl einer Karte
            </td>
        </tr>
    </tbody>
</table>
<figcaption>AT03: Erfolgreiche Verbindung</figcaption>
</figure>

<figure id="figure-acceptance-test-4" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>AT04</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Auswählen einer Karte</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>✓ Erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td><a href="#figure-use-case-4">R04</a>, <a href="#figure-use-case-5">R05</a>, <a href="#figure-use-case-8">R08</a>, <a href="#figure-use-case-10">R10</a></td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Der Teilnehmer soll sich für eine Karte entscheiden und diese auswählen</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>
                <ul>
                    <li>Das iPhone zeigt visuell an, welche Karte ausgewählt worden ist</li>
                    <li>Die Karte wird auf dem iPad verdeckt angezeigt</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
                Sobald ein Teilnehmer sich für eine Karte entschieden hat wird diese in grün dargestellt. Auf dem iPad ist der Wert der Karte nicht ersichtlich
            </td>
        </tr>
    </tbody>
</table>
<figcaption>AT04: Auswählen einer Karte</figcaption>
</figure>

<figure id="figure-acceptance-test-5" class="inline">
<table width="100%">
    <colgroup>
        <col width="30%" />
        <col width="70%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <td>AT05</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>Karten aufdecken</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>✓ Erfüllt</td>
        </tr>
        <tr>
            <th>Geprüfte Anforderungen</th>
            <td><a href="#figure-use-case-3">R03</a></td>
        </tr>
        <tr>
            <th>Aktivität</th>
            <td>Solange noch nicht alle Teilnehmer sich für eine Karte entschieden haben, dürfen die Kartenwerte auf dem iPad nicht ersichtlich sein. Es sollen nun alle Teilnehmer eine Karte wählen</td>
        </tr>
        <tr>
            <th>Soll Verhalten</th>
            <td>
                <div>
                    <ul>
                        <li>Alle Teilnehmer haben eine Karte gewählt</li>
                        <li>Die Karten werden auf dem iPad aufgedeckt, sobald alle Teilnehmer eine Karte gewählt haben</li>
                        <li>Zu jedem Teilnehmer wird der gewählte Kartenwert angezeigt</li>
                    </ul>
                </div>    
            </td>
        </tr>
        <tr>
            <th>Ist Verhalten</th>
            <td>
                Haben alle Teilnehmer eine Karte ausgewählt, werden diese auf dem  iPad angezeigt
            </td>
        </tr>
    </tbody>
</table>
<figcaption>AT05: Karten aufdecken</figcaption>
</figure>

<h3>Übersicht Abnahme Akzeptanz Tests</h3>
<figure id="figure-acceptance-test-check" class="inline">
<table width="100%">
    <colgroup>
        <col width="10%" />
        <col width="45%" />
        <col width="45%" />
    </colgroup>
    <tbody>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th style="text-align: right">Erfüllt</th>
        </tr>
        <tr>
            <td><a href="#figure-acceptance-test-1">AT01</a></td>
            <td>Starten einer Planning Session</td>
            <td style="text-align: right">✓</td>
        </tr>
        <tr>
            <td><a href="#figure-acceptance-test-2">AT02</a></td>
            <td>Anzeige verbundener iPhones</td>
            <td style="text-align: right">✓</td>
        </tr>
        <tr>
            <td><a href="#figure-acceptance-test-3">AT03</a></td>
            <td>Erfolgreiche Verbindung</td>
            <td style="text-align: right">✓</td>
        </tr>
        <tr>
            <td><a href="#figure-acceptance-test-4">AT04</a></td>
            <td>Auswählen einer Karte</td>
            <td style="text-align: right">✓</td>
        </tr>
        <tr>
            <td><a href="#figure-acceptance-test-5">AT05</a></td>
            <td>Karten aufdecken</td>
            <td style="text-align: right">✓</td>
        </tr>
    </tbody>
</table>
<figcaption>Übersicht der Akzeptanz Tests</figcaption>
</figure>

<h3 class="break">Unit Testing</h3>
<p>
    Die App wird mittels dem Integrationsserver <a href="http://jenkins-ci.org">Jenkins</a> bei jedem Change neu gebaut. Vor dem Erstellen der App werden alle Unit Tests ausgeführt. Dafür wird das OpenSource Tool <a href="https://github.com/facebook/xctool">xctool</a> verwendet.
</p>
<p>Unit Tests wurden pro Package durchgeführt. Nachfolgend eine Übersicht der Tests und deren Resultate.</p>

<figure id="figure-unit-test" class="inline">
<img src="images/unit_test_result.png" width="400" />
<figcaption>Resultat Unit Test</figcaption>
</figure>

</div>

<div class="chapter">
<h2>Analyse GameKit API</h2>
<h3>Einführung</h3>
<p><a href="https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/GameKit_Guide/Introduction/Introduction.html">GameKit</a> ist eine Sammlung von <a href="https://developer.apple.com/library/ios/documentation/GameKit/Reference/GameKit_Collection/_index.html">API's</a>, die für Spielentwickler entworfen worden ist. Diese API's bieten unter anderem die Möglichkeit, eine Peer-to-Peer bzw. Server Client Verbindung, auch <a href="https://developer.apple.com/library/ios/documentation/GameKit/Reference/GKSession_Class/Reference/Reference.html">GKSession</a> gennant, an. Dies wird nicht nur im Zusammenhang mit Spielen gebraucht und wird von verschiedensten App Typen eingesetzt.
</p>
<p>
    Apple hat diesen Zustand bemerkt und bietet mit iOS7 diese API's unabhängig von GameKit an. Die neugeschaffenen API's werden unter dem <a href="https://developer.apple.com/library/ios/documentation/MultipeerConnectivity/Reference/MultipeerConnectivityFramework/_index.html">"Multipeer Connectivity"</a> Framework zusammengefasst. Die neuen API's bieten genau die gleiche Funktionalität, haben aber verschiedene Bereiche vereinfacht. Im Gegenzug wurden die GKSession Klassen auf "deprecated" gesetzt und werden in naher Zukunft entfernt. 
</p>
<p>iPlanningPoker basiert noch auf den GKSession Klassen, da die Entwicklung vor der Veröffentlichung von iOS7 begonnen hat. Eine Migration auf das neue Framework ist möglich und wird nach dem Abschluss der Arbeit vorangetrieben.</p>

<p class="break">Der wichtigste Punkt weshalb dieses Framework gewählt wurde, ist dass sich die App nicht für einen Kommunikationskanal entscheiden muss. Es wird automatisch vom Framework entschieden, ob sich nun die Geräte via Bluetooth oder WLAN miteinander verbinden. Das Auffinden, wie auch das Anpreisen der Geräte geschieht über einen Abstraktionslayer. Für diese Tasks wird innerhalb von GameKit der Apple Service <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/NetServices/Introduction.html">Bonjour</a> verwendet.</p>

<figure id="figure-bonjour" class="inline">
<img src="images/bonjour_overview.png" width="400" />
<figcaption>Bonjour <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/NetServices/Art/bonjour_intro_2x.png">Overview</a></figcaption>
</figure>

<h3 class="break">GKSession und GKSessionDelegate</h3>
<p>
    Um die Klasse GKSession zu instanzieren ist es notwendig, sich für einen Modus zu entscheiden. Dieser bestimmt wie sich die Klasse verhalten soll. Zur Verfügung stehen drei verschiedene <a href="https://developer.apple.com/library/ios/documentation/GameKit/Reference/GKSession_Class/Reference/Reference.html#//apple_ref/c/econst/GKSessionModeServer">Modi</a>.
</p>

<pre class="code">
<code>
    typedef enum {
       GKSessionModeServer,
       GKSessionModeClient,
       GKSessionModePeer,
    } GKSessionMode;</code>
</pre>

<p>Die Werte <i>GKSessionModeClient</i> und <i>GKSessionModeServer</i> stehen für eine Client Server Verbindung. Eine Client Server Verbindung unterhält nur Verbidungen zwischen den Clients und dem Server.</p>
<figure id="figure-client-server" class="inline">
<img src="images/server_client.png" width="400" />
<figcaption>Client Server Verbindungen</figcaption>
</figure>

<p>Im Gegensatz dazu steht die Peer-to-Peer Verbindung(<i>GKSessionModePeer</i>), bei welcher alle beteiligten Endgeräte miteinander kommunizieren.</p>
<figure id="figure-peer-to-peer" class="inline">
<img src="images/peer_to_peer.png" width="400" />
<figcaption>Peer-to-Peer Verbindungen</figcaption>
</figure>

<p>Da iPlanningPoker in einem Client-Server Modus funktioniert, wurde entschieden die Klasse GKSession in den Modi "GKSessionModeServer" und "GKSessionModeClient" zu instanzieren. Intern in der GKSession, welche für einen Entwickler nicht sichtbar ist, wird immer noch ein Peer-to-Peer Netzwerk verwendet.</p>

<p class="break">Die iOS API's arbeiten stark nach dem <a href="http://en.wikipedia.org/wiki/Delegation_pattern">Delegation Pattern</a>. Das Protokoll <a href="https://developer.apple.com/library/ios/documentation/GameKit/Reference/GKSessionDelegate_Protocol/Reference/Reference.html">GKSessionDelegate</a> wird implementiert, um auf Events reagieren zu können. Typische Events sind:</p>
<ul>
    <li>Veränderungen an den verbundenen Clients z.B. wenn ein iPhone die Verbindung unterbricht</li>
    <li>Verbindungsaufbau mit einem Server</li>
    <li>Allfällige Kommunikationsfehler</li>
</ul>

<h3>Typische Methoden</h3>

<p>Der Abschnitt behandelt die wichtigsten Methoden der GameKit API, welche in diesem Projekt verwendet worden sind. Um eine vollständige Übersicht zu erhalten, empfiehlt sich die <a href="https://developer.apple.com/library/ios/documentation/GameKit/Reference/GKSession_Class/Reference/Reference.html">Dokumentation</a> von Apple.</p>

<h4>Client</h4>
<p>Diese Instanzmethode wird verwendet, um den Client zu instanzieren. Die <i>sessionID</i> wird als Konstante verwendet, damit alle Clients mit dem gleichen Server kommunizieren können. Der <i>displayName</i> ist der Gerätename und der <i>sessionMode</i> erhält den Wert des Enums "GKSessionModeClient".</p>
<pre class="code">
<code>
- (id)initWithSessionID:(NSString *)sessionID displayName:(NSString *)name
sessionMode:(GKSessionMode)mode</code>
</pre>

<p class="break">
    Mit dieser Methode wird eine Verbindung zum Server aufgebaut. Dabei ist die <i>peerId</i> eine eindeutige UUID, welche den Server identifiziert. Das Timeout wird mittels einer Konstante gesteuert.
</p>
<pre class="code">
<code>
- (void)connectToPeer:(NSString *)peerID withTimeout:(NSTimeInterval)timeout</code>
</pre>

<p>
    Um Daten an den Server senden zu können, in diesem Fall den Kartenwert, werden diese in einer speziellen Klasse aufbereitet. Das Kapitel <a href="#chapter-9">Netzwerkverkehr</a> behandelt dieses Thema im Detail.<br />
    Das <i>peers</i> Array beinhaltet in diesem Fall nur einen Eintrag, die UUID des Servers. Weiter kann entschieden werden, in welchem Modus die Daten geschickt werden sollen. Wir verwenden den Wert <i>GKSendDataReliable</i> des Enums. Diese Einstellung gewährleistet, dass mehrmals versucht wird die Daten zu schicken und nicht sofort nach dem ersten Fehlversuch die Übertragung abbricht.</p>
<pre class="code">
<code>
- (BOOL)sendData:(NSData *)data toPeers:(NSArray *)peers
withDataMode:(GKSendDataMode)mode error:(NSError **)error</code>
</pre>

<h4 class="break">Server</h4>
<p>
    Um einen Server zu instanzieren muss der Enumwert von <i>sessionMode</i> auf "GKSessionModeServer" gesetzt werden. Dies ist der wichtigste Unterschied zum Client.
</p>
<pre class="code">
<code>
- (id)initWithSessionID:(NSString *)sessionID displayName:(NSString *)name
sessionMode:(GKSessionMode)mode</code>
</pre>

<p>
    Um Daten an alle Clients zu senden, wird eine unterschiedliche Methode verwendet. Diese Methode erlaubt es, Daten an alle verbundenen Clients zu senden.
</p>
<pre class="code">
<code>
- (BOOL)sendDataToAllPeers:(NSData *)data withDataMode:(GKSendDataMode)mode
error:(NSError **)error</code>
</pre>

</div>

<div class="chapter">
<h2>Netzwerkverkehr</h2>
<p>
    Die Kommunikation zwischen den verschiedenen iPhones und dem iPad ist klar strukturiert. Die Daten werden in sogenannten Paketen zwischen dem Server und den Clients ausgetauscht. Diese Pakete haben einen klar strukturierten Header, auf welchen nun näher eingegangen wird.
</p>

<h3>Paket Struktur</h3>

<p>Ein typischer Header in der App besteht aus 10 Bytes, gefolgt von dem Payload, den eigentlichen Daten.</p>

<figure id="figure-packet" class="inline">
<img src="images/packet.png" width="500" />
<figcaption>Aufbau der Packete</figcaption>
</figure>

<ul>
    <li>
        Die ersten 4 Bytes identifizieren ein Paket eindeutig für die App. Nur Pakete mit diesem Header werden von der App verarbeiten. Dazu wird die Abkürzung <i>iPPr</i> verwendet. Dies steht für den Hexadezimalenwert von
        <pre class="code">
        <code>
0x69505072</code>
        </pre>
    </li>
    <li>
        Die nächsten 4 Bytes werden für die Nummerierung der Pakete verwendet. Nummeriert werden die Pakete, um sicherzustellen, dass sie in der richtigen Reihenfolge verarbeitet werden.
    </li>
    <li>Die letzten 2 Bytes stehen für den Pakettyp. Je nach Typ reagiert die App unterschiedlich auf die gesendeten Daten. Die Typen werden in einem Enum gehalten.
        <pre class="code">
        <code>
typedef enum {
    DataPacketTypeSignInRequest = 0x01,
    DataPacketTypeSignInResponse = 0x02,
    DataPacketTypeServerReady = 0x03,
    DataPacketTypeServerQuit = 0x04,
    DataPacketTypeUserQuit = 0x05
} DataPacketType;</code>
        </pre>
    </li>
    <li>Der Payloadbereich beinhaltet die eigentlichen Daten. Meldet sich z.B. ein neues iPhone bei einem iPad an, wäre im Payload der Name des iPhones zu finden.</li>
</ul>

<h3>Beispiel Paket</h3>
<p>Nehmen wir das Beispiel einer SignIn-Response. Da es das erste Packet ist, wird die Nummer 1 vergeben. Dies entspricht dem Wert 0x0001. Es handelt sich um einen SignIn-Response, daher wird der Packettyp auf 0x02 gesetzt. Folgendes Bild zeigt das komplette Packet, welches versendet wird.</p>
<figure id="figure-packet-example" class="inline">
<img src="images/packet_example.png" width="500" />
<figcaption>Beispiel einer SignIn-Response</figcaption>
</figure>


</div>
<div class="chapter">
<h2>Umsetzung der iOS App</h2>
<h3>Entwicklungsumgebung</h3>

<figure id="figure-workflow" class="inline">
    <img src="images/workflow.png" width="300" />
    <figcaption>Workflow iOS Entwicklung</figcaption>
</figure>

<h4>Xcode</h4>
<p>
    <a href="https://developer.apple.com/xcode/">Xcode</a> ist die von Apple angebotene IDE zur Entwicklung von iOS und Mac Applikationen. Xcode bietet Möglichkeiten die entwickelte App auf einem Simulator wie auch auf einem realen iOS Gerät zu testen. Als <a href="http://de.wikipedia.org/wiki/Versionsverwaltung">VCS</a> unterstützt Xcode Git und SVN, wobei in diesem Projekt Git verwendet wird (Schritt 1).
</p>

<h4>GitHub</h4>
<p>
    Der Source-Code wird auf <a href="https://github.com">GitHub</a> in einem öffentlichen <a href="https://github.com/gabac/iPlanningPoker-doc">Repository</a> gehalten. Jenkins wird informiert sobald ein neuer Change gepusht worden ist (Schritt 2).
</p>

<h4>Jenkins CI</h4>
<p>
    <a href="http://jenkins-ci.org">Jenkins</a> wird verwendet um die App kontinuierlich zu bauen. Wurde ein Change auf Github veröffentlicht wird ein Jenkins Job durchloffen. Der Job besteht aus zwei Teilen. Zuerst werden die Unittests angestossen. Sind alle Unittests erfolgreich ausgeführt worden wird das Artefakt gebildet. Das Artefakt ist ein IPA File, welches sich auf iOS Geräten installieren lässt (Schritt 3).
</p>


<h3>Sequenzdiagramm / Zustandsmaschine</h3>

<p>Nachfolgend wird ein typischer Ablauf innerhalb der App durch ein Sequenzdiagramm dargestellt. Die App wurde mit Hilfe einer <a href="http://de.wikipedia.org/wiki/Endlicher_Automat">Zustandsmaschine</a> entwickelt. Entsprechend wurden im Sequenzdiagramm die verschiedenen Zustände erwähnt.</p>

<p>Die App enthält zwei verschiedene Typen von Zustandsmaschinen. Für den ersten Teil der App, den eigentlichen Verbindungsaufbau, wird eine <a href="http://en.wikipedia.org/wiki/Event-driven_finite-state_machine">Ereignisgetriebene-Zustandsmaschine</a> verwendet. Im zweiten Teil, der Kommunikation zwischen den Clients und dem Server, wird eine klassische Zustandsmaschine verwendet.</p>

<figure id="figure-sequenz" class="inline">
<img src="images/ablaufdiagramm.png" width="600" />
<figcaption>Sequenzdiagramm</figcaption>
</figure>

<p>Die einzelnen Schritte der App werden nun durchgegangen und die verschiedenen Zustände detailiert erklärt.</p>

<h4>Verbindungsaufbau</h4>
<p>Öffnet man die App auf dem iPhone wird dem User folgender Screen präsentiert. Die App befindet sich zu diesem Zeitpunkt im Zustand <i>ClientStateIdle</i>.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_start_screen.png" width="300" />
<figcaption>Startscreen auf dem iPhone</figcaption>
</figure>

<p>Die iPad App verhält sich sehr ähnlich. Dem User wird ebenfalls einen Startscreen präsentiert. Die App auf dem iPad befindet sich im Zustand <i>ServerStateIdle</i>.</p>
<figure id="figure-start-screen-iphad" class="inline">
<img src="images/ipad_start_screen.png" width="350" />
<figcaption>Startscreen auf dem iPad</figcaption>
</figure>

<p>Im nächsten Schritt möchte der User sich zu einem neuen Planning Poker hinzufügen. Dabei hat er die Möglichkeit den Namen seines iPhones zu bestimmen. Standardmässig wird der Gerätenamen verwendet.</p>
<figure id="figure-iphone-joining-screen" class="inline">
<img src="images/iphone_joining_screen.png" width="300" />
<figcaption>Verbindungsscreen auf dem iPhone</figcaption>
</figure>

<p>Ist der User mit dem Namen zufrieden versucht er sich mit einem iPad zu verbinden. Zu diesem Zeitpunkt befindet sich die App im Zustand <i>ClientStateLookingForServers</i>.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_connection_screen.png" width="300" />
<figcaption>iPhone sucht nach einem iPad</figcaption>
</figure>

<p>Der Scrum Master startet ein neues Planning Poker auf dem iPad. Dabei wird ihm eine (leere)Tabelle präsentiert. Das iPad befindet sich nun im Verbindungsmodus und ist für die iPhones sichtbar. Alle iPhones, welche sich erfolgreich mit dem iPad verbunden haben, werden in dieser Tabelle dargestellt. Die App befindet sich im Status <i>ServerStateAcceptingConnections</i>.</p>
<figure id="figure-start-screen-iphad" class="inline">
<img src="images/ipad_connected_screen.png" width="350" />
<figcaption>iPad wartet auf zusätzliche Teilnehmer</figcaption>
</figure>

<p>Das iPhone erhält ein Ereignis, welches ihm mitteilt, dass ein iPad gefunden worden ist. Das iPhone stellt nun eine Verbindung her. Die App befindet sich im Zustand <i>ClientStateConnecting</i>.<br />
Wurde eine erfolgreiche Verbindung mit dem iPad hergestellt erhält das iPhone wiederum ein Ereignis, welches die Verbindung zum iPad bestätigt. Dies führt zum Zustand <i>ClientStateConnected</i>. Nun wird auf ein SignIn-Request gewartet. Die App befindet sich im Zustand <i>PlanningPokerCardsWaitingForSignIn</i>.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_connecting_screen.png" width="300" />
<figcaption>iPhone wartet auf den SignIn-Request</figcaption>
</figure>

<h4>Planning Poker starten</h4>
<p>Haben sich alle Teilnehmer mit dem iPad verbunden initiiert der Scrum Master das eigentlich Planning Poker. Das iPad ist ab diesem Zeitpunkt nicht mehr auffindbar und der Zustand wird auf <i>ServerStateStopAcceptingNewConnections</i> gesetzt.<br />
Jedem verbundenen iPhone wird ein SignIn-Request geschickt. Zu diesem Zeitpunkt befindet sich die App im Zustand <i>PlanningPokerDeckWaitingForSignIn</i>. Haben alle iPhone mit einer SignIn-Response geantwortet wird ein Ready-Kommando geschickt und folgendes UI angezeigt. Die App befindet sich nun im Zustand <i>PlanningPokerDeckWaitingForCardValues</i>. Das iPad ist nun bereit für ein Planning Poker.</p>
<figure id="figure-start-screen-iphad" class="inline">
<img src="images/ipad_table_screen.png" width="350" />
<figcaption>Hauptscreen des iPads</figcaption>
</figure>

<p>Wie bereits erwähnt erhält das iPhone ein SignIn-Request vom iPad. Das iPhone antwortet mit einer SignIn-Response und geht in den Zustand <i>PlanningPokerCardsWaitingForReady</i> über. Danach wird vom iPad das erwähnte Ready-Kommando gesendet. Dies führt zum Zustand <i>PlanningPokerCardsChooseCardValue</i> und folgendes UI erscheint auf dem iPhone.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_choose_screen.png" width="300" />
<figcaption>Teilnehmer kann eine Karte wählen</figcaption>
</figure>

<h4>Karte auswählen</h4>
<p>Nun können die Teilnehmer eine Karte auf dem iPhone wählen. Der Wert der Karte wird auf das iPad übertragen. Sollte sich ein Teilnehmer doch noch für eine andere Karte entscheiden kann er dies tun, solange noch nicht alle anderen Teilnehmer eine Karte ausgewählt haben. Dies ist der Grund wieso die App in diesem Schritt im Status <i>PlanningPokerCardsChooseCardValue</i> verbleibt.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_choosed_screen.png" width="300" />
<figcaption>Teilnehmer hat eine Karte gewählt</figcaption>
</figure>

<p>Haben sich alle Teilnehmer für eine Karte entschieden geht die App in den Zustand <i>PlanningPokerDeckShowCardValues</i> über und die Karten der einzelnen Teilnehmer werden auf dem iPad angezeigt. Den iPhones wird ebenfalls mitgeteilt, dass nun die Karten dargestellt werden.</p>
<figure id="figure-start-screen-iphad" class="inline">
<img src="images/ipad_choosen_screen.png" width="350" />
<figcaption>Die Karten der Teilnehmer werden angezeigt</figcaption>
</figure>

<p>Sobald die Karten auf dem iPad dargestellt werden wird dies dem iPhone mitgeteilt. Das UI wird deaktiviert und eine Kartenauswahl ist für den Moment nicht möglich. Die App befindet sich im Zustand <i>PlanningPokerCardsWaitingForNextRound</i>.</p>
<figure id="figure-start-screen-iphone" class="inline">
<img src="images/iphone_choosed_screen.png" width="300" />
<figcaption>Keine Kartenwahl mehr möglich</figcaption>
</figure>

<h4>Neue Runde starten</h4>
<p>Soll eine neue Runde gestartet werden schickt, dass iPad den iPhones ein entsprechendes Kommando. Die Kartenwerte auf dem iPad verschwinden und das UI auf dem iPhone wird wieder aktiviert. Das iPhone befindet sich wieder im Zustand <i>PlanningPokerDeckWaitingForCardValues</i> und die iPhones im Zustand <i>PlanningPokerCardsChooseCardValue</i>. Es darf eine neue Runde gespielt werden.</p>

</div>

<div class="chapter">
<h2>Fazit</h2>
<p>Es war sehr spannend eine so komplexe iOS App zu entwickeln. Was mich extrem freut ist die Tatsache dass alle definierten Ziele erreichten worden sind:
</p>
<ul>
    <li>Definition der Anforderungen der zu entwickelnden iOS App</li>
    <li>Analyse der GameKit API</li>
    <li>Definition des Netzwerkverkehrs</li>
    <li>Umsetzung einer universellen iOS App</li>
</ul>

<p>Das Requirements Engineering konnte gut und zügig durchgeführt werden. Es war sehr hilfreich, dass ich bereits die Vorlesung von Herrn Bachmann besucht habe, welche sich genau um diese Thematik dreht.</p>

<p>Es gab im Internet leider nicht viele gute Quellen, dafür war aber die Dokumentation von Apple ausgezeichnet. Spannend war auch, dass Apple mit iOS7 genau die von mir verwendetet API aus GameKit herausgelöst hat. Dies wäre absolut auch ein Schritt gewesen, den ich als Apple durchgeführt hätte. Ich kann mir vorstellen, dass solche Apps in Zukunft immer beliebter werden und noch in einer grösseren Anzahl erscheinen.
</p>

<p>Das schreiben eines eigenen Netzwerkprotokolls war eine Herausforderung. Wir haben bisher im Studium wenig auf diesem Level gemacht, aber ich denke die erarbeitet Lösung hat die Anforderungen erfüllt. Sie ist auch einfach erweiterbar, was ein persönliches Ziel bei der Definition des Protokolls war. Es war sehr spannend mal wieder mit Bits, Bytes und Hex zu arbeiten.</p>

<p>Das eine voll funktionsumfassende App entstanden ist, macht mich sehr stolz. Mit iOS7 wurd ein flaches UI eingeführt, war mir mit meinen bescheidenen Designfähigkeiten in die Hände spielte. Das sehr simple UI passt sehr gut zu iOS7 und erfüllt den Job.< br/>
Der nächste Schritt nach der Abgabe der Semsterarbeit wird die App der Veröffentlichung der App im AppStore sein. Ich erhoffe mir, dass auch weitere Teams von dieser App profitieren können. In unserem Team wird die App bereits eingesetzt und hat uns das Leben vereinfacht.</p>

<p>Insgesamt kann man sagen, dass die Semesterarbeit viel Spass und Schweiss bereitet hat. Der Aufwand der Dokumentation darf nie unterschätzt werden, was ich bei meiner nächsten Arbeit besser berücksichtigen werden. Ein gutes Projektmanagment fördert den reibungslosen Ablauf der Arbeit, was ich weiterhin so machen werden.</p>

<p>Viel Spass beim nächsten Planning Poker!</p>

</div>


<div class="chapter">
<h2>Anhang</h2>
<h3>Glossar</h3>
<p>
API: Application Programming Interface, bezeichnet die Schnittstelle, über
welche der Client Daten vom Server abruft.
</p>
<p>
Client: Ein Anwendungsprogramm, welches auf dem Gerät des Benutzers läuft und
meist mit einem Server kommuniziert.
</p>
<p>
Server: Eine Komponente, welche verschiedene Requests von Clients erhält und auf diese reagieren kann.
</p>
<p>
UI: Kurzschreibweise für User Interface. Das Aussehen einer Applikation.
</p>
<p>
Enum: Ein Aufzählungstyp mit einer endlichen Menge an konstanten Typen.
</p>
<p>
UUID: Steht für Universally Unique Identifier. In diesem Projekt eine eindeutige Nummer für einen Client.
</p>
<p>
Byte: Ein Byte besteht aus 8 Bit. Es ist eine Masseinheit in der Informatik
</p>
<p>
Hexadezimalsystem: Dieses Stellwertsystem wird zur Basis 16 dargestellt. Im Unteschied zum Dezimalsystem, welches zur Basis 10 dargestellt wird.
</p>
<p>SVN: Ist eine Software zur Versionsverwaltung von Dateien von Apache.</p>
<p>Git: Ebenfalls eine Software zur Versionsverwaltung. Wurde ursprünglich für Linux entwickelt. Der grösste Unteschied zu SVN ist die dezentrale Verwaltung des Sourcecodes.</p>
<p>Artefakt: Ist das Ergebnis eines Buildprozesses. Es ist die fertige Software, welche auf Endgärten installiert werden kann.</p>

<h3 class="break">Literaturverzeichnis</h3>
<p>Stephen G. Kochan: Programming in Objective-C 2.0(5. Auflage), 2013, 978-0321887283, Amsterdam: Addison-Wesley Longman</p>
<p>Ken Schwaber, Mike Beedle: Agile Software Development with Scrum, 978-0130676344</p>

<h3 class="break">Quellenverzeichnis</h3>

<ol id="sources"></ol>

<h3 class="break">Abbildungsverzeichnis</h3>

<ul id="figures"></ul>

</div>

<footer>&#160;</footer>

</body>
</html>
